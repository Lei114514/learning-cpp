#include <string>
#include <fstream>
#include "JsonParse.h"

void JsonParse::trim(std::string& line)
{
    line.erase(0,line.find_first_not_of(" \n\t\r"));
    line.erase(line.find_last_not_of(" \n\t\r")+1);
}

JsonParse::ParseResult JsonParse::prase(const std::string& fileName)
{
    std::fstream file(fileName);
    if(!file.is_open())
    {
        return JsonParse::ParseResult::kErrorFileOpenFailed;
    }
    
    JsonParse::ParseResult result=parseValue(file); 

    return result;
}

JsonParse::ParseResult JsonParse::parseValue(std::fstream& file)
{
    std::string line;
    size_t index=0;
    while(std::getline(file,line))
    {
        trim(line);
        if(line.empty()) continue;
        index=0;

        if(line[index]=='{') parseObject(file,line,++index);
        else if(line[index]=='[') parseArray(file,line,++index);
        else if(line[index]=='"') parseKeyValue(file,line,++index);
    }
}

JsonParse* JsonParse::parseObject(std::fstream& file,std::string& line,size_t& index)
{

}





std::string JsonParse::getString(...)
{

}


